{"intl":"","src":"/** @module $ */require( '$', function(require, module, exports) {     exports.config={\"name\":\"\\\"tolokoban-app-container\\\"\",\"description\":\"\\\"Tolokoban App Container\\\"\",\"author\":\"\\\"tolokoban\\\"\",\"version\":\"\\\"0.2.11\\\"\",\"major\":\"0\",\"minor\":\"2\",\"revision\":\"11\",\"date\":\"2017-02-14T14:48:01.000Z\",\"consts\":{\"mode\":\"release\"}};\nvar currentLang = null;\r\nexports.lang = function(lang) {\r\n    if (lang === undefined) {\r\n        if (window.localStorage) {\r\n            lang = window.localStorage.getItem(\"Language\");\r\n        }\r\n        if (!lang) {\r\n            lang = window.navigator.language;\r\n            if (!lang) {\r\n                lang = window.navigator.browserLanguage;\r\n                if (!lang) {\r\n                    lang = \"fr\";\r\n                }\r\n            }\r\n        }\r\n        lang = lang.substr(0, 2).toLowerCase();\r\n    }\r\n    currentLang = lang;\r\n    if (window.localStorage) {\r\n        window.localStorage.setItem(\"Language\", lang);\r\n    }\r\n    return lang;\r\n};\r\nexports.intl = function(words, params) {\r\n    var dic = words[exports.lang()],\r\n        k = params[0],\r\n        txt, newTxt, i, c, lastIdx, pos;\r\n    var defLang;\r\n    for( defLang in words ) break;\r\n    if( !defLang ) return k;\r\n    if (!dic) {\r\n        dic = words[defLang];\r\n        if( !dic ) {\r\n            return k;\r\n        }\r\n    }\r\n    txt = dic[k];\r\n    if( !txt ) {\r\n        dic = words[defLang];\r\n        txt = dic[k];\r\n    }\r\n    if (!txt) return k;\r\n    if (params.length > 1) {\r\n        newTxt = \"\";\r\n        lastIdx = 0;\r\n        for (i = 0 ; i < txt.length ; i++) {\r\n            c = txt.charAt(i);\r\n            if (c === '$') {\r\n                newTxt += txt.substring(lastIdx, i);\r\n                i++;\r\n                pos = txt.charCodeAt(i) - 48;\r\n                if (pos < 0 || pos >= params.length) {\r\n                    newTxt += \"$\" + txt.charAt(i);\r\n                } else {\r\n                    newTxt += params[pos];\r\n                }\r\n                lastIdx = i + 1;\r\n            } else if (c === '\\\\') {\r\n                newTxt += txt.substring(lastIdx, i);\r\n                i++;\r\n                newTxt += txt.charAt(i);\r\n                lastIdx = i + 1;\r\n            }\r\n        }\r\n        newTxt += txt.substr(lastIdx);\r\n        txt = newTxt;\r\n    }\r\n    return txt;\r\n};\r\n\r\n\r\n  \r\n});","zip":"require(\"$\",function(n,o,r){r.config={name:'\"tolokoban-app-container\"',description:'\"Tolokoban App Container\"',author:'\"tolokoban\"',version:'\"0.2.11\"',major:\"0\",minor:\"2\",revision:\"11\",date:\"2017-02-14T14:48:01.000Z\",consts:{mode:\"release\"}};var a=null;r.lang=function(n){return void 0===n&&(window.localStorage&&(n=window.localStorage.getItem(\"Language\")),n||(n=window.navigator.language,n||(n=window.navigator.browserLanguage,n||(n=\"fr\"))),n=n.substr(0,2).toLowerCase()),a=n,window.localStorage&&window.localStorage.setItem(\"Language\",n),n},r.intl=function(n,o){var a,t,e,i,g,l,u,s=n[r.lang()],c=o[0];for(u in n)break;if(!u)return c;if(!s&&(s=n[u],!s))return c;if(a=s[c],a||(s=n[u],a=s[c]),!a)return c;if(o.length>1){for(t=\"\",g=0,e=0;e<a.length;e++)i=a.charAt(e),\"$\"===i?(t+=a.substring(g,e),e++,l=a.charCodeAt(e)-48,t+=l<0||l>=o.length?\"$\"+a.charAt(e):o[l],g=e+1):\"\\\\\"===i&&(t+=a.substring(g,e),e++,t+=a.charAt(e),g=e+1);t+=a.substr(g),a=t}return a}});\n//# sourceMappingURL=$.js.map","map":{"version":3,"file":"$.js","sources":["$.js"],"sourcesContent":["/** @module $ */require( '$', function(require, module, exports) {     exports.config={\"name\":\"\\\"tolokoban-app-container\\\"\",\"description\":\"\\\"Tolokoban App Container\\\"\",\"author\":\"\\\"tolokoban\\\"\",\"version\":\"\\\"0.2.11\\\"\",\"major\":\"0\",\"minor\":\"2\",\"revision\":\"11\",\"date\":\"2017-02-14T14:48:01.000Z\",\"consts\":{\"mode\":\"release\"}};\nvar currentLang = null;\r\nexports.lang = function(lang) {\r\n    if (lang === undefined) {\r\n        if (window.localStorage) {\r\n            lang = window.localStorage.getItem(\"Language\");\r\n        }\r\n        if (!lang) {\r\n            lang = window.navigator.language;\r\n            if (!lang) {\r\n                lang = window.navigator.browserLanguage;\r\n                if (!lang) {\r\n                    lang = \"fr\";\r\n                }\r\n            }\r\n        }\r\n        lang = lang.substr(0, 2).toLowerCase();\r\n    }\r\n    currentLang = lang;\r\n    if (window.localStorage) {\r\n        window.localStorage.setItem(\"Language\", lang);\r\n    }\r\n    return lang;\r\n};\r\nexports.intl = function(words, params) {\r\n    var dic = words[exports.lang()],\r\n        k = params[0],\r\n        txt, newTxt, i, c, lastIdx, pos;\r\n    var defLang;\r\n    for( defLang in words ) break;\r\n    if( !defLang ) return k;\r\n    if (!dic) {\r\n        dic = words[defLang];\r\n        if( !dic ) {\r\n            return k;\r\n        }\r\n    }\r\n    txt = dic[k];\r\n    if( !txt ) {\r\n        dic = words[defLang];\r\n        txt = dic[k];\r\n    }\r\n    if (!txt) return k;\r\n    if (params.length > 1) {\r\n        newTxt = \"\";\r\n        lastIdx = 0;\r\n        for (i = 0 ; i < txt.length ; i++) {\r\n            c = txt.charAt(i);\r\n            if (c === '$') {\r\n                newTxt += txt.substring(lastIdx, i);\r\n                i++;\r\n                pos = txt.charCodeAt(i) - 48;\r\n                if (pos < 0 || pos >= params.length) {\r\n                    newTxt += \"$\" + txt.charAt(i);\r\n                } else {\r\n                    newTxt += params[pos];\r\n                }\r\n                lastIdx = i + 1;\r\n            } else if (c === '\\\\') {\r\n                newTxt += txt.substring(lastIdx, i);\r\n                i++;\r\n                newTxt += txt.charAt(i);\r\n                lastIdx = i + 1;\r\n            }\r\n        }\r\n        newTxt += txt.substr(lastIdx);\r\n        txt = newTxt;\r\n    }\r\n    return txt;\r\n};\r\n\r\n\r\n  \r\n});"],"names":["require","module","exports","config","name","description","author","version","major","minor","revision","date","consts","mode","currentLang","lang","undefined","window","localStorage","getItem","navigator","language","browserLanguage","substr","toLowerCase","setItem","intl","words","params","txt","newTxt","i","c","lastIdx","pos","defLang","dic","k","length","charAt","substring","charCodeAt"],"mappings":"AAAgBA,QAAS,IAAK,SAASA,EAASC,EAAQC,GAAeA,EAAQC,QAAQC,KAAO,4BAA8BC,YAAc,4BAA8BC,OAAS,cAAgBC,QAAU,WAAaC,MAAQ,IAAIC,MAAQ,IAAIC,SAAW,KAAKC,KAAO,2BAA2BC,QAAUC,KAAO,WACnT,IAAIC,GAAc,IAClBZ,GAAQa,KAAO,SAASA,GAoBpB,MAnBaC,UAATD,IACIE,OAAOC,eACPH,EAAOE,OAAOC,aAAaC,QAAQ,aAElCJ,IACDA,EAAOE,OAAOG,UAAUC,SACnBN,IACDA,EAAOE,OAAOG,UAAUE,gBACnBP,IACDA,EAAO,QAInBA,EAAOA,EAAKQ,OAAO,EAAG,GAAGC,eAE7BV,EAAcC,EACVE,OAAOC,cACPD,OAAOC,aAAaO,QAAQ,WAAYV,GAErCA,GAEXb,EAAQwB,KAAO,SAASC,EAAOC,GAC3B,GAEIC,GAAKC,EAAQC,EAAGC,EAAGC,EAASC,EAC5BC,EAHAC,EAAMT,EAAMzB,EAAQa,QACpBsB,EAAIT,EAAO,EAGf,KAAKO,IAAWR,GAAQ,KACxB,KAAKQ,EAAU,MAAOE,EACtB,KAAKD,IACDA,EAAMT,EAAMQ,IACPC,GACD,MAAOC,EAQf,IALAR,EAAMO,EAAIC,GACLR,IACDO,EAAMT,EAAMQ,GACZN,EAAMO,EAAIC,KAETR,EAAK,MAAOQ,EACjB,IAAIT,EAAOU,OAAS,EAAG,CAGnB,IAFAR,EAAS,GACTG,EAAU,EACLF,EAAI,EAAIA,EAAIF,EAAIS,OAASP,IAC1BC,EAAIH,EAAIU,OAAOR,GACL,MAANC,GACAF,GAAUD,EAAIW,UAAUP,EAASF,GACjCA,IACAG,EAAML,EAAIY,WAAWV,GAAK,GAEtBD,GADAI,EAAM,GAAKA,GAAON,EAAOU,OACf,IAAMT,EAAIU,OAAOR,GAEjBH,EAAOM,GAErBD,EAAUF,EAAI,GACD,OAANC,IACPF,GAAUD,EAAIW,UAAUP,EAASF,GACjCA,IACAD,GAAUD,EAAIU,OAAOR,GACrBE,EAAUF,EAAI,EAGtBD,IAAUD,EAAIN,OAAOU,GACrBJ,EAAMC,EAEV,MAAOD"},"dependencies":[]}