{"intl":"var _=function(){var D={\"en\":{}},X=require(\"$\").intl;function _(){return X(D,arguments);}_.all=D;return _}();\r\n","src":"/** @module tfw.message */require( 'tfw.message', function(require, module, exports) { var _=function(){var D={\"en\":{}},X=require(\"$\").intl;function _(){return X(D,arguments);}_.all=D;return _}();\r\n    /**\r\n * @module tfw.message\r\n *\r\n * @description\r\n * Display a evanescing message at the top of the screen.\r\n * This messge will fade out after 5 seconds, or if tapped.\r\n *\r\n * @example\r\n * var Msg = require('tfw.message');\r\n * Msg.error( 'There is a problem!' );\r\n * Msg.info( 'Trace saved.' );\r\n * Msg.info( 'Visible for 3500 ms.', 3500 );\r\n */\r\nvar $ = require(\"dom\");\r\n\r\n\r\nvar G = {\r\n    lastMsg: null\r\n};\r\n\r\nfunction show( className, text, delay ) {\r\n    if (G.lastMsg) {\r\n        // Remove an already displayed message because a new one must take its place.\r\n        $.detach( G.lastMsg );\r\n        G.lastMsg = null;\r\n    }\r\n    \r\n    if( typeof delay !== 'number' ) delay = 5000;\r\n    var div = $.div( 'tfw-message', className, 'theme-elevation-24' );\r\n    $.textOrHtml( div, text );\r\n    G.lastMsg = div;\r\n    document.body.appendChild( div );\r\n    function hide() {\r\n        $.removeClass( div, 'show' );\r\n        window.setTimeout( $.detach.bind( $, div ), 300 );\r\n        G.lastMsg = null;\r\n    }\r\n    var id = window.setTimeout(hide, delay);\r\n    window.setTimeout(function() {\r\n        $.addClass( div, 'show' );\r\n        $.on( div, function() {\r\n            hide();\r\n            window.clearTimeout( id );\r\n            G.lastMsg = null;\r\n        });\r\n    });\r\n}\r\n\r\n\r\nexports.info = show.bind( null, 'info' );\r\nexports.error = show.bind( null, 'error' );\r\n\r\n\r\n  \r\nmodule.exports._ = _;\n/**\n * @module tfw.message\n * @see module:$\n * @see module:dom\n\n */\n});","zip":"require(\"tfw.message\",function(n,t,e){function o(n,t,e){function o(){s.removeClass(l,\"show\"),window.setTimeout(s.detach.bind(s,l),300),i.lastMsg=null}i.lastMsg&&(s.detach(i.lastMsg),i.lastMsg=null),\"number\"!=typeof e&&(e=5e3);var l=s.div(\"tfw-message\",n,\"theme-elevation-24\");s.textOrHtml(l,t),i.lastMsg=l,document.body.appendChild(l);var a=window.setTimeout(o,e);window.setTimeout(function(){s.addClass(l,\"show\"),s.on(l,function(){o(),window.clearTimeout(a),i.lastMsg=null})})}var l=function(){function t(){return o(e,arguments)}var e={en:{}},o=n(\"$\").intl;return t.all=e,t}(),s=n(\"dom\"),i={lastMsg:null};e.info=o.bind(null,\"info\"),e.error=o.bind(null,\"error\"),t.exports._=l});\n//# sourceMappingURL=tfw.message.js.map","map":{"version":3,"file":"tfw.message.js","sources":["tfw.message.js"],"sourcesContent":["/** @module tfw.message */require( 'tfw.message', function(require, module, exports) { var _=function(){var D={\"en\":{}},X=require(\"$\").intl;function _(){return X(D,arguments);}_.all=D;return _}();\r\n    /**\r\n * @module tfw.message\r\n *\r\n * @description\r\n * Display a evanescing message at the top of the screen.\r\n * This messge will fade out after 5 seconds, or if tapped.\r\n *\r\n * @example\r\n * var Msg = require('tfw.message');\r\n * Msg.error( 'There is a problem!' );\r\n * Msg.info( 'Trace saved.' );\r\n * Msg.info( 'Visible for 3500 ms.', 3500 );\r\n */\r\nvar $ = require(\"dom\");\r\n\r\n\r\nvar G = {\r\n    lastMsg: null\r\n};\r\n\r\nfunction show( className, text, delay ) {\r\n    if (G.lastMsg) {\r\n        // Remove an already displayed message because a new one must take its place.\r\n        $.detach( G.lastMsg );\r\n        G.lastMsg = null;\r\n    }\r\n    \r\n    if( typeof delay !== 'number' ) delay = 5000;\r\n    var div = $.div( 'tfw-message', className, 'theme-elevation-24' );\r\n    $.textOrHtml( div, text );\r\n    G.lastMsg = div;\r\n    document.body.appendChild( div );\r\n    function hide() {\r\n        $.removeClass( div, 'show' );\r\n        window.setTimeout( $.detach.bind( $, div ), 300 );\r\n        G.lastMsg = null;\r\n    }\r\n    var id = window.setTimeout(hide, delay);\r\n    window.setTimeout(function() {\r\n        $.addClass( div, 'show' );\r\n        $.on( div, function() {\r\n            hide();\r\n            window.clearTimeout( id );\r\n            G.lastMsg = null;\r\n        });\r\n    });\r\n}\r\n\r\n\r\nexports.info = show.bind( null, 'info' );\r\nexports.error = show.bind( null, 'error' );\r\n\r\n\r\n  \r\nmodule.exports._ = _;\n});"],"names":["require","module","exports","show","className","text","delay","hide","$","removeClass","div","window","setTimeout","detach","bind","G","lastMsg","textOrHtml","document","body","appendChild","id","addClass","on","clearTimeout","_","X","D","arguments","en","intl","all","info","error"],"mappings":"AAA0BA,QAAS,cAAe,SAASA,EAASC,EAAQC,GAqB5E,QAASC,GAAMC,EAAWC,EAAMC,GAY5B,QAASC,KACLC,EAAEC,YAAaC,EAAK,QACpBC,OAAOC,WAAYJ,EAAEK,OAAOC,KAAMN,EAAGE,GAAO,KAC5CK,EAAEC,QAAU,KAdZD,EAAEC,UAEFR,EAAEK,OAAQE,EAAEC,SACZD,EAAEC,QAAU,MAGK,gBAAVV,KAAqBA,EAAQ,IACxC,IAAII,GAAMF,EAAEE,IAAK,cAAeN,EAAW,qBAC3CI,GAAES,WAAYP,EAAKL,GACnBU,EAAEC,QAAUN,EACZQ,SAASC,KAAKC,YAAaV,EAM3B,IAAIW,GAAKV,OAAOC,WAAWL,EAAMD,EACjCK,QAAOC,WAAW,WACdJ,EAAEc,SAAUZ,EAAK,QACjBF,EAAEe,GAAIb,EAAK,WACPH,IACAI,OAAOa,aAAcH,GACrBN,EAAEC,QAAU,SA5C+D,GAAIS,GAAE,WAA+C,QAASA,KAAI,MAAOC,GAAEC,EAAEC,WAA5D,GAAID,IAAGE,OAASH,EAAE1B,EAAQ,KAAK8B,IAAiD,OAARL,GAAEM,IAAIJ,EAASF,KAc3LjB,EAAIR,EAAQ,OAGZe,GACAC,QAAS,KAgCbd,GAAQ8B,KAAO7B,EAAKW,KAAM,KAAM,QAChCZ,EAAQ+B,MAAQ9B,EAAKW,KAAM,KAAM,SAIjCb,EAAOC,QAAQuB,EAAIA"},"dependencies":["mod/$","mod/dom"]}