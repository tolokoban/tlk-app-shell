{"intl":"var _=function(){var D={\"en\":{}},X=require(\"$\").intl;function _(){return X(D,arguments);}_.all=D;return _}();\n","src":"/** @module tfw.message */require( 'tfw.message', function(require, module, exports) { var _=function(){var D={\"en\":{}},X=require(\"$\").intl;function _(){return X(D,arguments);}_.all=D;return _}();\n    /**\n * @module tfw.message\n *\n * @description\n * Display a evanescing message at the top of the screen.\n * This messge will fade out after 5 seconds, or if tapped.\n *\n * @example\n * var Msg = require('tfw.message');\n * Msg.error( 'There is a problem!' );\n * Msg.info( 'Trace saved.' );\n * Msg.info( 'Visible for 3500 ms.', 3500 );\n */\nvar $ = require( \"dom\" );\n\n\nvar G = {\n  lastMsg: null\n};\n\nfunction show( className, text, delay ) {\n  clear();\n\n  if ( typeof delay !== 'number' ) delay = 5000;\n  var div = $.div( 'tfw-message', className );\n  $.textOrHtml( div, text );\n  G.lastMsg = div;\n  document.body.appendChild( div );\n\n  function hide() {\n    $.removeClass( div, 'show' );\n    window.setTimeout( $.detach.bind( $, div ), 300 );\n    G.lastMsg = null;\n  }\n  var id = window.setTimeout( hide, delay );\n  window.setTimeout( function () {\n    $.addClass( div, 'show' );\n    $.on( div, function () {\n      hide();\n      window.clearTimeout( id );\n      G.lastMsg = null;\n    } );\n  } );\n}\n\nfunction clear() {\n  if ( G.lastMsg ) {\n    // Remove an already displayed message because a new one must take its place.\n    $.detach( G.lastMsg );\n    G.lastMsg = null;\n  }\n}\n\nexports.info = show.bind( null, 'info' );\nexports.error = show.bind( null, 'error' );\nexports.clear = clear;\n\n  \nmodule.exports._ = _;\n/**\n * @module tfw.message\n * @see module:$\n * @see module:dom\n\n */\n});","zip":"require(\"tfw.message\",function(n,t,e){function o(n,t,e){function o(){i.removeClass(s,\"show\"),window.setTimeout(i.detach.bind(i,s),300),u.lastMsg=null}l(),\"number\"!=typeof e&&(e=5e3);var s=i.div(\"tfw-message\",n);i.textOrHtml(s,t),u.lastMsg=s,document.body.appendChild(s);var a=window.setTimeout(o,e);window.setTimeout(function(){i.addClass(s,\"show\"),i.on(s,function(){o(),window.clearTimeout(a),u.lastMsg=null})})}function l(){u.lastMsg&&(i.detach(u.lastMsg),u.lastMsg=null)}var s=function(){function t(){return o(e,arguments)}var e={en:{}},o=n(\"$\").intl;return t.all=e,t}(),i=n(\"dom\"),u={lastMsg:null};e.info=o.bind(null,\"info\"),e.error=o.bind(null,\"error\"),e.clear=l,t.exports._=s});\n//# sourceMappingURL=tfw.message.js.map","map":{"version":3,"file":"tfw.message.js","sources":["tfw.message.js"],"sourcesContent":["/** @module tfw.message */require( 'tfw.message', function(require, module, exports) { var _=function(){var D={\"en\":{}},X=require(\"$\").intl;function _(){return X(D,arguments);}_.all=D;return _}();\n    /**\n * @module tfw.message\n *\n * @description\n * Display a evanescing message at the top of the screen.\n * This messge will fade out after 5 seconds, or if tapped.\n *\n * @example\n * var Msg = require('tfw.message');\n * Msg.error( 'There is a problem!' );\n * Msg.info( 'Trace saved.' );\n * Msg.info( 'Visible for 3500 ms.', 3500 );\n */\nvar $ = require( \"dom\" );\n\n\nvar G = {\n  lastMsg: null\n};\n\nfunction show( className, text, delay ) {\n  clear();\n\n  if ( typeof delay !== 'number' ) delay = 5000;\n  var div = $.div( 'tfw-message', className );\n  $.textOrHtml( div, text );\n  G.lastMsg = div;\n  document.body.appendChild( div );\n\n  function hide() {\n    $.removeClass( div, 'show' );\n    window.setTimeout( $.detach.bind( $, div ), 300 );\n    G.lastMsg = null;\n  }\n  var id = window.setTimeout( hide, delay );\n  window.setTimeout( function () {\n    $.addClass( div, 'show' );\n    $.on( div, function () {\n      hide();\n      window.clearTimeout( id );\n      G.lastMsg = null;\n    } );\n  } );\n}\n\nfunction clear() {\n  if ( G.lastMsg ) {\n    // Remove an already displayed message because a new one must take its place.\n    $.detach( G.lastMsg );\n    G.lastMsg = null;\n  }\n}\n\nexports.info = show.bind( null, 'info' );\nexports.error = show.bind( null, 'error' );\nexports.clear = clear;\n\n  \nmodule.exports._ = _;\n});"],"names":["require","module","exports","show","className","text","delay","hide","$","removeClass","div","window","setTimeout","detach","bind","G","lastMsg","clear","textOrHtml","document","body","appendChild","id","addClass","on","clearTimeout","_","X","D","arguments","en","intl","all","info","error"],"mappings":"AAA0BA,QAAS,cAAe,SAASA,EAASC,EAAQC,GAqB5E,QAASC,GAAMC,EAAWC,EAAMC,GAS9B,QAASC,KACPC,EAAEC,YAAaC,EAAK,QACpBC,OAAOC,WAAYJ,EAAEK,OAAOC,KAAMN,EAAGE,GAAO,KAC5CK,EAAEC,QAAU,KAXdC,IAEsB,gBAAVX,KAAqBA,EAAQ,IACzC,IAAII,GAAMF,EAAEE,IAAK,cAAeN,EAChCI,GAAEU,WAAYR,EAAKL,GACnBU,EAAEC,QAAUN,EACZS,SAASC,KAAKC,YAAaX,EAO3B,IAAIY,GAAKX,OAAOC,WAAYL,EAAMD,EAClCK,QAAOC,WAAY,WACjBJ,EAAEe,SAAUb,EAAK,QACjBF,EAAEgB,GAAId,EAAK,WACTH,IACAI,OAAOc,aAAcH,GACrBP,EAAEC,QAAU,SAKlB,QAASC,KACFF,EAAEC,UAELR,EAAEK,OAAQE,EAAEC,SACZD,EAAEC,QAAU,MAlDuE,GAAIU,GAAE,WAA+C,QAASA,KAAI,MAAOC,GAAEC,EAAEC,WAA5D,GAAID,IAAGE,OAASH,EAAE3B,EAAQ,KAAK+B,IAAiD,OAARL,GAAEM,IAAIJ,EAASF,KAc3LlB,EAAIR,EAAS,OAGbe,GACFC,QAAS,KAoCXd,GAAQ+B,KAAO9B,EAAKW,KAAM,KAAM,QAChCZ,EAAQgC,MAAQ/B,EAAKW,KAAM,KAAM,SACjCZ,EAAQe,MAAQA,EAGhBhB,EAAOC,QAAQwB,EAAIA"},"dependencies":["mod/$","mod/dom"]}