{"watch":[],"intl":"var _=function(){var D={\"en\":{}},X=require(\"$\").intl;function _(){return X(D,arguments);}_.all=D;return _}();\n","src":"/** @module dom */require( 'dom', function(require, module, exports) { var _=function(){var D={\"en\":{}},X=require(\"$\").intl;function _(){return X(D,arguments);}_.all=D;return _}();\n   /**\n * @module dom\n *\n * @description\n * Functions which facilitate DOm manipulations.\n * Included __interact.js__. You can find documentation for it here:\n * [http://interactjs.io/docs/]\n *\n * @example\n * var mod = require('dom');\n */\nrequire(\"polyfill.classList\");\nvar PointerEvents = require(\"tfw.pointer-events\");\n\nvar $ = function(dom) {\n    if (typeof dom === 'string') {\n        var elem = document.getElementById( dom );\n        if (!elem) {\n            console.error( \"[dom] There is no DOM element with this ID: `\" + dom + \"`\" );\n        }\n        return elem;\n    }\n    if (!dom) {\n        debugger;\n        throw Error(\"`dom` is not a valid element!\", dom);\n    }\n    if (typeof dom.element === 'function') return dom.element();\n    if (dom.element) return dom.element;\n    return dom;\n};\n\nmodule.exports = $;\n\n\n// Used to store data on the DOM element without colliding with existing attributes.\nvar SYMBOL = '@dom' + Date.now();\n\n\n$.tagNS = tagNS;\n$.svgRoot = tagNS.bind( undefined, \"http://www.w3.org/2000/svg\", \"svg\", {\n    version: '1.1',\n    'xmlns:svg': 'http://www.w3.org/2000/svg',\n    xmlns: 'http://www.w3.org/2000/svg',\n    'xmlns:xlink': 'http://www.w3.org/1999/xlink'\n});\n$.svg = tagNS.bind( undefined, \"http://www.w3.org/2000/svg\" );\n$.tag = tagNS.bind( undefined, \"http://www.w3.org/1999/xhtml\" );\n$.div = tagNS.bind( undefined, \"http://www.w3.org/1999/xhtml\", \"div\" );\n$.txt = window.document.createTextNode.bind( window.document );\n$.textOrHtml = textOrHtml;\n$.get = get;\n/**\n * Add a readonly `element` property to `obj` and return it.\n */\n$.elem = elem;\n/**\n * Apply css rules on `element`.\n *\n * @return `element`.\n *\n * @example\n * var $ = require('dom');\n * $.css( element, { width: '800px'. height: '600px' });\n */\n$.css = css;\n$.att = att;\n$.removeAtt = removeAtt;\n$.addClass = addClass;\n$.hasClass = hasClass;\n$.removeClass = removeClass;\n$.toggleClass = toggleClass;\n$.saveStyle = saveStyle;\n$.restoreStyle = restoreStyle;\n/**\n * @param newElem {Element} - Replacement element.\n * @param oldElem {Element} - Element to replace.\n */\n$.replace = replace;\n/**\n * Remove element from its parent.\n * @param element {Element} - Element to detach from its parent.\n * @return The parent element.\n */\n$.detach = detach;\n/**\n * Add event handlers to one or many elements.\n *\n * @param {object|array}  element -  list of  elements on  which apply\n * events handlers.\n *\n * @param  {object|function} slots  - If  a function  is given,  it is\n * considered as a slot for the event `tap`.  Otherwise, the object is\n * a map  between events' names (the  key) and function to  handle the\n * event (the value).\n * Events' names are:\n * * __tap__: When  the element is  pressed and released in  less than\n 900 ms and without too much sliding.\n * * __doubletap__\n * * __dragmove__\n *\n * @param {boolean} capture - If `true` events are captured before they reach the children.\n *\n * @example\n *    DOM.on( [screen, button], function() {...} );\n *    DOM.on( body, null );   // Do nothing, but stop propagation.\n *    DOM.on( element, { tap: function() {...} } );\n */\n$.on = on;\n$.off = off;\n/**\n * Append all the `children` to `element`.\n * @param element\n * @param ...children\n */\n$.add = add;\n/**\n * Add the attribute `element` and the following functions to `obj`:\n * * __css__\n * * __addClass__\n * * __removeClass__\n * * __toggleClass__\n */\n$.wrap = wrap;\n/**\n * Remove all children of the `element`.\n * @param element {Element} - Element from which remove all the children.\n */\n$.clear = clear;\n\nfunction wrap( obj, element, nomethods ) {\n    Object.defineProperty( obj, 'element', {\n        value: element, writable: false, configurable: false, enumerable: true\n    });\n    if( nomethods ) return obj;\n\n    obj.on = on.bind( obj, element );\n    obj.css = css.bind( obj, element );\n    obj.add = add.bind( obj, element );\n    obj.att = att.bind( obj, element );\n    obj.addClass = addClass.bind( obj, element );\n    obj.hasClass = hasClass.bind( obj, element );\n    obj.removeClass = removeClass.bind( obj, element );\n    obj.toggleClass = toggleClass.bind( obj, element );\n    return obj;\n}\n\nfunction replace( newElem, oldElem ) {\n    newElem = $(newElem);\n    oldElem = $(oldElem);\n    oldElem.parentNode.replaceChild( newElem, oldElem );\n    return newElem;\n}\n\nfunction css( element, styles ) {\n    element = $(element);\n    var key, val;\n    for( key in styles ) {\n        val = styles[key];\n        element.style[key] = val;\n    }\n    return element;\n}\n\nfunction att( element, attribs, value ) {\n    element = $(element);\n    var key, val;\n    if (typeof attribs === 'string') {\n        key = attribs;\n        attribs = {};\n        attribs[key] = value;\n    }\n    for( key in attribs ) {\n        val = attribs[key];\n        element.setAttribute( key, val );\n    }\n    return element;\n}\n\nfunction removeAtt( element, attrib ) {\n    element = $(element);\n    element.removeAttribute( attrib );\n    return element;\n}\n\nfunction add( element ) {\n    element = $(element);\n    try {\n        var i, child;\n        for (i = 1 ; i < arguments.length ; i++) {\n            child = arguments[i];\n            if( typeof child === 'string' || typeof child === 'number' ) {\n                child = '' + child;\n                if( child.substr( 0, 6 ) == '<html>' ) {\n                    var html = child.substr( 6 );\n                    child = $.tag('span');\n                    child.innerHTML = html;\n                } else {\n                    child = document.createTextNode( child );\n                }\n            }\n            else if( typeof child.element === 'function' ) {\n                // Backward compatibility with Widgets.\n                child = child.element();\n            }\n            else if( typeof child.element !== 'undefined' ) {\n                child = child.element;\n            }\n            element.appendChild( child );\n        }\n        return element;\n    }\n    catch( ex ) {\n        console.error( \"[DOM.add] arguments=\", [].slice.call( arguments ) );\n        throw Error( \"[DOM.add] \" + ex );\n    }\n}\n\nfunction off( element ) {\n    if( Array.isArray( element ) ) {\n        element.forEach(function ( elem ) {\n            off( elem );\n        });\n        return element;\n    }\n\n    if( typeof element[SYMBOL] === 'undefined' ) return element;\n    var pe = element[SYMBOL].events;\n    if( typeof pe  === 'undefined' ) return element;\n    pe.off();\n    delete element[SYMBOL].events;\n}\n\nfunction on( element, slots ) {\n    // If only a function is passed, we consider this is a Tap event.\n    if( typeof slots === 'function' || slots === null ) slots = { tap: slots };\n\n    if( Array.isArray( element ) ) {\n        element.forEach(function ( elem ) {\n            on( elem, slots );\n        });\n        return element;\n    }\n\n    element = $(element);\n    if( typeof element[SYMBOL] === 'undefined' ) element[SYMBOL] = {};\n    if( typeof element[SYMBOL].events === 'undefined' ) {\n        element[SYMBOL].events = new PointerEvents( element );\n    }\n\n    var key, val, preview;\n    for( key in slots ) {\n        val = slots[key];\n        if (key.charAt(0) == '!') {\n            key = key.substr(1);\n            preview = true;\n        } else {\n            preview = false;\n        }\n        if (key == 'keydown' || key == 'keyup') {\n            element.addEventListener( key, val, preview );\n        } else {\n            element[SYMBOL].events.on( key, val, preview );\n        }\n    }\n\n    return element;\n}\n\nfunction tagNS( ns, name ) {\n    try {\n        var e = document.createElementNS( ns, name );\n        var i, arg, key, val;\n        for (i = 2 ; i < arguments.length ; i++) {\n            arg = arguments[i];\n            if( Array.isArray(arg) ) {\n                // Arrays are for children.\n                arg.forEach(function (child) {\n                    switch( typeof child ) {\n                    case 'string':\n                    case 'number':\n                    case 'boolean':\n                        child = '' + child;\n                        if( child.substr( 0, 6 ) == '<html>' ) {\n                            var html = child.substr( 6 );\n                            child = $.tag('span');\n                            child.innerHTML = html;\n                        } else {\n                            child = document.createTextNode( child );\n                        }\n                        break;\n                    }\n                    add( e, child );\n                });\n            } else {\n                switch( typeof arg ) {\n                case \"string\":\n                    arg.split( ' ' ).forEach(function ( item ) {\n                        if( item.length > 0 ) {\n                            addClass(e, item);\n                        }\n                    });\n                    break;\n                case \"object\":\n                    for( key in arg ) {\n                        val = arg[key];\n                        e.setAttribute( key, val );\n                    }\n                    break;\n                default:\n                    throw Error(\"[dom.tag] Error creating <\" + name + \">: Invalid argument #\" + i + \"!\");\n                }\n            }\n        }\n        return e;\n    }\n    catch (ex) {\n        console.error(\"[dom.tagNS] Error with `ns` = \", ns, \" and `name` = \", name);\n        console.error(ex);\n    }\n};\n\n\nfunction addClass(elem) {\n    var args = [].slice.call( arguments, 1 );\n    if( Array.isArray( elem ) ) {\n        // Loop on each element.\n        args.unshift( null );\n        elem.forEach(function ( child ) {\n            args[0] = child;\n            addClass.apply( undefined, args );\n        });\n        return elem;\n    }\n    elem = $( elem );\n    args.forEach(function (className) {\n        if (typeof className !== 'string') return;\n        className = className.trim();\n        if( className.length == 0 ) return;\n        try {\n            if( elem.classList )\n                elem.classList.add( className );\n        }\n        catch( ex ) {\n            console.error( \"[dom.addClass] Invalid class name: \", className );\n            console.error( ex );\n        }\n    });\n    return elem;\n}\n\n\nfunction hasClass( elem, className ) {\n    elem = $( elem );\n    if( !elem.classList ) return false;\n    return elem.classList.contains( className );\n}\n\n\nfunction removeClass(elem) {\n    var args = [].slice.call( arguments, 1 );\n    if( Array.isArray( elem ) ) {\n        // Loop on each element.\n        args.unshift( null );\n        elem.forEach(function ( child ) {\n            args[0] = child;\n            removeClass.apply( undefined, args );\n        });\n        return elem;\n    }\n    elem = $( elem );\n    args.forEach(function (className) {\n        if (typeof className !== 'string') return;\n        try {\n            if( elem.classList )\n                elem.classList.remove( className );\n        }\n        catch( ex ) {\n            console.error( \"[dom.removeClass] Invalid class name: \", className );\n            console.error( ex );\n        }\n    });\n    return elem;\n}\n\n\nfunction toggleClass(elem) {\n    var args = [].slice.call( arguments, 1 );\n    args.forEach(function( className ) {\n        if( hasClass( elem, className ) ) {\n            removeClass( elem, className );\n        } else {\n            addClass( elem, className );\n        }\n    });\n    return elem;\n}\n\n\nfunction clear( element ) {\n    // (!) On préfère retirer les éléments un par un du DOM plutôt que d'utiliser simplement\n    // this.html(\"\").\n    // En effet, le code simplifié a des conséquences inattendues dans IE9 et IE10 au moins.\n    // Le bug des markers qui disparaissaients sur les cartes de Trail-Passion 4 a été corrigé\n    // avec cette modification.\n    element = $(element);\n    var e = element;\n    while(e.firstChild){\n        e.removeChild(e.firstChild);\n    }\n    var args = [].slice.call( arguments );\n    if( args.length > 1 ) {\n        add.apply( this, args );\n    }\n    return element;\n}\n\nfunction get( element, query ) {\n    element = $(element);\n    if( typeof query === 'undefined' ) {\n        query = element;\n        element = window.document;\n    }\n    return element.querySelector( query );\n}\n\nfunction detach( element ) {\n    element = $(element);\n    var parent = element.parentElement;\n    if( !parent ) return parent;\n    parent.removeChild( element );\n    return parent;\n}\n\nfunction elem( target ) {\n    var args = [].slice.call( arguments );\n    args.shift();\n    if (args.length == 0) args = ['div'];\n    args.push('dom', 'custom');\n    var e;\n    if (typeof args[0].element !== 'undefined') {\n        e = args[0].element;\n        addClass( e, 'dom', 'custom' );\n    } else if (typeof args[0].appendChild === 'function') {\n        e = args[0];\n        addClass( e, 'dom', 'custom' );\n    } else {\n        e = $.tag.apply( $, args );\n    }\n    Object.defineProperty( target, 'element', {\n        value: e, writable: false, configurable: false, enumerable: true\n    });\n    return e;\n}\n\nfunction textOrHtml( element, content ) {\n    if( typeof content === 'undefined' ) content = '';\n    if (content === null) content = '';\n    if (typeof content !== 'string') content = JSON.stringify( content );\n    if (content.substr(0, 6) == '<html>') {\n        element.innerHTML = content.substr(6);\n    } else {\n        element.textContent = content;\n    }\n    return element;\n}\n\nfunction saveStyle( elements ) {\n    if( !Array.isArray( elements ) ) return saveStyle( Array.prototype.slice.call( arguments ) );\n    elements.forEach(function (elem) {\n        elem = $( elem );\n        if( typeof elem[SYMBOL] === 'undefined' ) elem[SYMBOL] = {};\n        if( !Array.isArray( elem[SYMBOL].style ) ) elem[SYMBOL].style = [];\n        elem[SYMBOL].style.push( JSON.stringify( elem.style ) );\n    });\n}\n\nfunction restoreStyle( elements ) {\n    if( !Array.isArray( elements ) ) return restoreStyle( Array.prototype.slice.call( arguments ) );\n    elements.forEach(function (elem) {\n        elem = $( elem );\n        if( typeof elem[SYMBOL] === 'undefined' || !Array.isArray( elem[SYMBOL].style ) ) throw Error(\n            \"[dom.restoreStyle] `saveStyle()` has never been used on this element!\");\n        if( elem[SYMBOL].style.length == 0 ) throw Error(\n            \"[dom.restoreStyle] more `restore` than `save`!\");\n        var styles = JSON.parse( elem[SYMBOL].style.pop() );\n        var k, v;\n        for( k in styles ) {\n            v = styles[k];\n            if( typeof v !== 'undefined' ) {\n                elem.style[k] = v;\n            }\n        }\n    });\n}\n\n\n  \nmodule.exports._ = _;\n/**\n * @module dom\n * @see module:$\n * @see module:polyfill.classList\n * @see module:tfw.pointer-events\n\n */\n});","zip":"require(\"dom\",function(e,t,r){function n(e,t,r){return Object.defineProperty(e,\"element\",{value:t,writable:!1,configurable:!1,enumerable:!0}),r?e:(e.on=u.bind(e,t),e.css=i.bind(e,t),e.add=l.bind(e,t),e.att=s.bind(e,t),e.addClass=d.bind(e,t),e.hasClass=v.bind(e,t),e.removeClass=m.bind(e,t),e.toggleClass=y.bind(e,t),e)}function o(e,t){return e=S(e),t=S(t),t.parentNode.replaceChild(e,t),e}function i(e,t){e=S(e);var r,n;for(r in t)n=t[r],e.style[r]=n;return e}function s(e,t,r){e=S(e);var n,o;\"string\"==typeof t&&(n=t,t={},t[n]=r);for(n in t)o=t[n],e.setAttribute(n,o);return e}function a(e,t){return e=S(e),e.removeAttribute(t),e}function l(e){e=S(e);try{var t,r;for(t=1;t<arguments.length;t++){if(r=arguments[t],\"string\"==typeof r||\"number\"==typeof r)if(r=\"\"+r,\"<html>\"==r.substr(0,6)){var n=r.substr(6);r=S.tag(\"span\"),r.innerHTML=n}else r=document.createTextNode(r);else\"function\"==typeof r.element?r=r.element():void 0!==r.element&&(r=r.element);e.appendChild(r)}return e}catch(e){throw console.error(\"[DOM.add] arguments=\",[].slice.call(arguments)),Error(\"[DOM.add] \"+e)}}function c(e){if(Array.isArray(e))return e.forEach(function(e){c(e)}),e;if(void 0===e[L])return e;var t=e[L].events;if(void 0===t)return e;t.off(),delete e[L].events}function u(e,t){if(\"function\"!=typeof t&&null!==t||(t={tap:t}),Array.isArray(e))return e.forEach(function(e){u(e,t)}),e;e=S(e),void 0===e[L]&&(e[L]={}),void 0===e[L].events&&(e[L].events=new x(e));var r,n,o;for(r in t)n=t[r],\"!\"==r.charAt(0)?(r=r.substr(1),o=!0):o=!1,\"keydown\"==r||\"keyup\"==r?e.addEventListener(r,n,o):e[L].events.on(r,n,o);return e}function f(e,t){try{var r,n,o,i,s=document.createElementNS(e,t);for(r=2;r<arguments.length;r++)if(n=arguments[r],Array.isArray(n))n.forEach(function(e){switch(typeof e){case\"string\":case\"number\":case\"boolean\":if(e=\"\"+e,\"<html>\"==e.substr(0,6)){var t=e.substr(6);e=S.tag(\"span\"),e.innerHTML=t}else e=document.createTextNode(e)}l(s,e)});else switch(typeof n){case\"string\":n.split(\" \").forEach(function(e){e.length>0&&d(s,e)});break;case\"object\":for(o in n)i=n[o],s.setAttribute(o,i);break;default:throw Error(\"[dom.tag] Error creating <\"+t+\">: Invalid argument #\"+r+\"!\")}return s}catch(r){console.error(\"[dom.tagNS] Error with `ns` = \",e,\" and `name` = \",t),console.error(r)}}function d(e){var t=[].slice.call(arguments,1);return Array.isArray(e)?(t.unshift(null),e.forEach(function(e){t[0]=e,d.apply(void 0,t)}),e):(e=S(e),t.forEach(function(t){if(\"string\"==typeof t&&(t=t.trim(),0!=t.length))try{e.classList&&e.classList.add(t)}catch(e){console.error(\"[dom.addClass] Invalid class name: \",t),console.error(e)}}),e)}function v(e,t){return e=S(e),!!e.classList&&e.classList.contains(t)}function m(e){var t=[].slice.call(arguments,1);return Array.isArray(e)?(t.unshift(null),e.forEach(function(e){t[0]=e,m.apply(void 0,t)}),e):(e=S(e),t.forEach(function(t){if(\"string\"==typeof t)try{e.classList&&e.classList.remove(t)}catch(e){console.error(\"[dom.removeClass] Invalid class name: \",t),console.error(e)}}),e)}function y(e){return[].slice.call(arguments,1).forEach(function(t){v(e,t)?m(e,t):d(e,t)}),e}function h(e){e=S(e);for(var t=e;t.firstChild;)t.removeChild(t.firstChild);var r=[].slice.call(arguments);return r.length>1&&l.apply(this,r),e}function p(e,t){return e=S(e),void 0===t&&(t=e,e=window.document),e.querySelector(t)}function g(e){e=S(e);var t=e.parentElement;return t?(t.removeChild(e),t):t}function w(e){var t=[].slice.call(arguments);t.shift(),0==t.length&&(t=[\"div\"]),t.push(\"dom\",\"custom\");var r;return void 0!==t[0].element?(r=t[0].element,d(r,\"dom\",\"custom\")):\"function\"==typeof t[0].appendChild?(r=t[0],d(r,\"dom\",\"custom\")):r=S.tag.apply(S,t),Object.defineProperty(e,\"element\",{value:r,writable:!1,configurable:!1,enumerable:!0}),r}function b(e,t){return void 0===t&&(t=\"\"),null===t&&(t=\"\"),\"string\"!=typeof t&&(t=JSON.stringify(t)),\"<html>\"==t.substr(0,6)?e.innerHTML=t.substr(6):e.textContent=t,e}function A(e){if(!Array.isArray(e))return A(Array.prototype.slice.call(arguments));e.forEach(function(e){e=S(e),void 0===e[L]&&(e[L]={}),Array.isArray(e[L].style)||(e[L].style=[]),e[L].style.push(JSON.stringify(e.style))})}function E(e){if(!Array.isArray(e))return E(Array.prototype.slice.call(arguments));e.forEach(function(e){if(e=S(e),void 0===e[L]||!Array.isArray(e[L].style))throw Error(\"[dom.restoreStyle] `saveStyle()` has never been used on this element!\");if(0==e[L].style.length)throw Error(\"[dom.restoreStyle] more `restore` than `save`!\");var t,r,n=JSON.parse(e[L].style.pop());for(t in n)r=n[t],void 0!==r&&(e.style[t]=r)})}var C=function(){function t(){return n(r,arguments)}var r={en:{}},n=e(\"$\").intl;return t.all=r,t}();e(\"polyfill.classList\");var x=e(\"tfw.pointer-events\"),S=function(e){if(\"string\"==typeof e){var t=document.getElementById(e);return t||console.error(\"[dom] There is no DOM element with this ID: `\"+e+\"`\"),t}if(!e)throw Error(\"`dom` is not a valid element!\",e);return\"function\"==typeof e.element?e.element():e.element?e.element:e};t.exports=S;var L=\"@dom\"+Date.now();S.tagNS=f,S.svgRoot=f.bind(void 0,\"http://www.w3.org/2000/svg\",\"svg\",{version:\"1.1\",\"xmlns:svg\":\"http://www.w3.org/2000/svg\",xmlns:\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\"}),S.svg=f.bind(void 0,\"http://www.w3.org/2000/svg\"),S.tag=f.bind(void 0,\"http://www.w3.org/1999/xhtml\"),S.div=f.bind(void 0,\"http://www.w3.org/1999/xhtml\",\"div\"),S.txt=window.document.createTextNode.bind(window.document),S.textOrHtml=b,S.get=p,S.elem=w,S.css=i,S.att=s,S.removeAtt=a,S.addClass=d,S.hasClass=v,S.removeClass=m,S.toggleClass=y,S.saveStyle=A,S.restoreStyle=E,S.replace=o,S.detach=g,S.on=u,S.off=c,S.add=l,S.wrap=n,S.clear=h,t.exports._=C});\n//# sourceMappingURL=dom.js.map","map":{"version":3,"file":"dom.js","sources":["dom.js"],"sourcesContent":["/** @module dom */require( 'dom', function(require, module, exports) { var _=function(){var D={\"en\":{}},X=require(\"$\").intl;function _(){return X(D,arguments);}_.all=D;return _}();\n   /**\n * @module dom\n *\n * @description\n * Functions which facilitate DOm manipulations.\n * Included __interact.js__. You can find documentation for it here:\n * [http://interactjs.io/docs/]\n *\n * @example\n * var mod = require('dom');\n */\nrequire(\"polyfill.classList\");\nvar PointerEvents = require(\"tfw.pointer-events\");\n\nvar $ = function(dom) {\n    if (typeof dom === 'string') {\n        var elem = document.getElementById( dom );\n        if (!elem) {\n            console.error( \"[dom] There is no DOM element with this ID: `\" + dom + \"`\" );\n        }\n        return elem;\n    }\n    if (!dom) {\n        debugger;\n        throw Error(\"`dom` is not a valid element!\", dom);\n    }\n    if (typeof dom.element === 'function') return dom.element();\n    if (dom.element) return dom.element;\n    return dom;\n};\n\nmodule.exports = $;\n\n\n// Used to store data on the DOM element without colliding with existing attributes.\nvar SYMBOL = '@dom' + Date.now();\n\n\n$.tagNS = tagNS;\n$.svgRoot = tagNS.bind( undefined, \"http://www.w3.org/2000/svg\", \"svg\", {\n    version: '1.1',\n    'xmlns:svg': 'http://www.w3.org/2000/svg',\n    xmlns: 'http://www.w3.org/2000/svg',\n    'xmlns:xlink': 'http://www.w3.org/1999/xlink'\n});\n$.svg = tagNS.bind( undefined, \"http://www.w3.org/2000/svg\" );\n$.tag = tagNS.bind( undefined, \"http://www.w3.org/1999/xhtml\" );\n$.div = tagNS.bind( undefined, \"http://www.w3.org/1999/xhtml\", \"div\" );\n$.txt = window.document.createTextNode.bind( window.document );\n$.textOrHtml = textOrHtml;\n$.get = get;\n/**\n * Add a readonly `element` property to `obj` and return it.\n */\n$.elem = elem;\n/**\n * Apply css rules on `element`.\n *\n * @return `element`.\n *\n * @example\n * var $ = require('dom');\n * $.css( element, { width: '800px'. height: '600px' });\n */\n$.css = css;\n$.att = att;\n$.removeAtt = removeAtt;\n$.addClass = addClass;\n$.hasClass = hasClass;\n$.removeClass = removeClass;\n$.toggleClass = toggleClass;\n$.saveStyle = saveStyle;\n$.restoreStyle = restoreStyle;\n/**\n * @param newElem {Element} - Replacement element.\n * @param oldElem {Element} - Element to replace.\n */\n$.replace = replace;\n/**\n * Remove element from its parent.\n * @param element {Element} - Element to detach from its parent.\n * @return The parent element.\n */\n$.detach = detach;\n/**\n * Add event handlers to one or many elements.\n *\n * @param {object|array}  element -  list of  elements on  which apply\n * events handlers.\n *\n * @param  {object|function} slots  - If  a function  is given,  it is\n * considered as a slot for the event `tap`.  Otherwise, the object is\n * a map  between events' names (the  key) and function to  handle the\n * event (the value).\n * Events' names are:\n * * __tap__: When  the element is  pressed and released in  less than\n 900 ms and without too much sliding.\n * * __doubletap__\n * * __dragmove__\n *\n * @param {boolean} capture - If `true` events are captured before they reach the children.\n *\n * @example\n *    DOM.on( [screen, button], function() {...} );\n *    DOM.on( body, null );   // Do nothing, but stop propagation.\n *    DOM.on( element, { tap: function() {...} } );\n */\n$.on = on;\n$.off = off;\n/**\n * Append all the `children` to `element`.\n * @param element\n * @param ...children\n */\n$.add = add;\n/**\n * Add the attribute `element` and the following functions to `obj`:\n * * __css__\n * * __addClass__\n * * __removeClass__\n * * __toggleClass__\n */\n$.wrap = wrap;\n/**\n * Remove all children of the `element`.\n * @param element {Element} - Element from which remove all the children.\n */\n$.clear = clear;\n\nfunction wrap( obj, element, nomethods ) {\n    Object.defineProperty( obj, 'element', {\n        value: element, writable: false, configurable: false, enumerable: true\n    });\n    if( nomethods ) return obj;\n\n    obj.on = on.bind( obj, element );\n    obj.css = css.bind( obj, element );\n    obj.add = add.bind( obj, element );\n    obj.att = att.bind( obj, element );\n    obj.addClass = addClass.bind( obj, element );\n    obj.hasClass = hasClass.bind( obj, element );\n    obj.removeClass = removeClass.bind( obj, element );\n    obj.toggleClass = toggleClass.bind( obj, element );\n    return obj;\n}\n\nfunction replace( newElem, oldElem ) {\n    newElem = $(newElem);\n    oldElem = $(oldElem);\n    oldElem.parentNode.replaceChild( newElem, oldElem );\n    return newElem;\n}\n\nfunction css( element, styles ) {\n    element = $(element);\n    var key, val;\n    for( key in styles ) {\n        val = styles[key];\n        element.style[key] = val;\n    }\n    return element;\n}\n\nfunction att( element, attribs, value ) {\n    element = $(element);\n    var key, val;\n    if (typeof attribs === 'string') {\n        key = attribs;\n        attribs = {};\n        attribs[key] = value;\n    }\n    for( key in attribs ) {\n        val = attribs[key];\n        element.setAttribute( key, val );\n    }\n    return element;\n}\n\nfunction removeAtt( element, attrib ) {\n    element = $(element);\n    element.removeAttribute( attrib );\n    return element;\n}\n\nfunction add( element ) {\n    element = $(element);\n    try {\n        var i, child;\n        for (i = 1 ; i < arguments.length ; i++) {\n            child = arguments[i];\n            if( typeof child === 'string' || typeof child === 'number' ) {\n                child = '' + child;\n                if( child.substr( 0, 6 ) == '<html>' ) {\n                    var html = child.substr( 6 );\n                    child = $.tag('span');\n                    child.innerHTML = html;\n                } else {\n                    child = document.createTextNode( child );\n                }\n            }\n            else if( typeof child.element === 'function' ) {\n                // Backward compatibility with Widgets.\n                child = child.element();\n            }\n            else if( typeof child.element !== 'undefined' ) {\n                child = child.element;\n            }\n            element.appendChild( child );\n        }\n        return element;\n    }\n    catch( ex ) {\n        console.error( \"[DOM.add] arguments=\", [].slice.call( arguments ) );\n        throw Error( \"[DOM.add] \" + ex );\n    }\n}\n\nfunction off( element ) {\n    if( Array.isArray( element ) ) {\n        element.forEach(function ( elem ) {\n            off( elem );\n        });\n        return element;\n    }\n\n    if( typeof element[SYMBOL] === 'undefined' ) return element;\n    var pe = element[SYMBOL].events;\n    if( typeof pe  === 'undefined' ) return element;\n    pe.off();\n    delete element[SYMBOL].events;\n}\n\nfunction on( element, slots ) {\n    // If only a function is passed, we consider this is a Tap event.\n    if( typeof slots === 'function' || slots === null ) slots = { tap: slots };\n\n    if( Array.isArray( element ) ) {\n        element.forEach(function ( elem ) {\n            on( elem, slots );\n        });\n        return element;\n    }\n\n    element = $(element);\n    if( typeof element[SYMBOL] === 'undefined' ) element[SYMBOL] = {};\n    if( typeof element[SYMBOL].events === 'undefined' ) {\n        element[SYMBOL].events = new PointerEvents( element );\n    }\n\n    var key, val, preview;\n    for( key in slots ) {\n        val = slots[key];\n        if (key.charAt(0) == '!') {\n            key = key.substr(1);\n            preview = true;\n        } else {\n            preview = false;\n        }\n        if (key == 'keydown' || key == 'keyup') {\n            element.addEventListener( key, val, preview );\n        } else {\n            element[SYMBOL].events.on( key, val, preview );\n        }\n    }\n\n    return element;\n}\n\nfunction tagNS( ns, name ) {\n    try {\n        var e = document.createElementNS( ns, name );\n        var i, arg, key, val;\n        for (i = 2 ; i < arguments.length ; i++) {\n            arg = arguments[i];\n            if( Array.isArray(arg) ) {\n                // Arrays are for children.\n                arg.forEach(function (child) {\n                    switch( typeof child ) {\n                    case 'string':\n                    case 'number':\n                    case 'boolean':\n                        child = '' + child;\n                        if( child.substr( 0, 6 ) == '<html>' ) {\n                            var html = child.substr( 6 );\n                            child = $.tag('span');\n                            child.innerHTML = html;\n                        } else {\n                            child = document.createTextNode( child );\n                        }\n                        break;\n                    }\n                    add( e, child );\n                });\n            } else {\n                switch( typeof arg ) {\n                case \"string\":\n                    arg.split( ' ' ).forEach(function ( item ) {\n                        if( item.length > 0 ) {\n                            addClass(e, item);\n                        }\n                    });\n                    break;\n                case \"object\":\n                    for( key in arg ) {\n                        val = arg[key];\n                        e.setAttribute( key, val );\n                    }\n                    break;\n                default:\n                    throw Error(\"[dom.tag] Error creating <\" + name + \">: Invalid argument #\" + i + \"!\");\n                }\n            }\n        }\n        return e;\n    }\n    catch (ex) {\n        console.error(\"[dom.tagNS] Error with `ns` = \", ns, \" and `name` = \", name);\n        console.error(ex);\n    }\n};\n\n\nfunction addClass(elem) {\n    var args = [].slice.call( arguments, 1 );\n    if( Array.isArray( elem ) ) {\n        // Loop on each element.\n        args.unshift( null );\n        elem.forEach(function ( child ) {\n            args[0] = child;\n            addClass.apply( undefined, args );\n        });\n        return elem;\n    }\n    elem = $( elem );\n    args.forEach(function (className) {\n        if (typeof className !== 'string') return;\n        className = className.trim();\n        if( className.length == 0 ) return;\n        try {\n            if( elem.classList )\n                elem.classList.add( className );\n        }\n        catch( ex ) {\n            console.error( \"[dom.addClass] Invalid class name: \", className );\n            console.error( ex );\n        }\n    });\n    return elem;\n}\n\n\nfunction hasClass( elem, className ) {\n    elem = $( elem );\n    if( !elem.classList ) return false;\n    return elem.classList.contains( className );\n}\n\n\nfunction removeClass(elem) {\n    var args = [].slice.call( arguments, 1 );\n    if( Array.isArray( elem ) ) {\n        // Loop on each element.\n        args.unshift( null );\n        elem.forEach(function ( child ) {\n            args[0] = child;\n            removeClass.apply( undefined, args );\n        });\n        return elem;\n    }\n    elem = $( elem );\n    args.forEach(function (className) {\n        if (typeof className !== 'string') return;\n        try {\n            if( elem.classList )\n                elem.classList.remove( className );\n        }\n        catch( ex ) {\n            console.error( \"[dom.removeClass] Invalid class name: \", className );\n            console.error( ex );\n        }\n    });\n    return elem;\n}\n\n\nfunction toggleClass(elem) {\n    var args = [].slice.call( arguments, 1 );\n    args.forEach(function( className ) {\n        if( hasClass( elem, className ) ) {\n            removeClass( elem, className );\n        } else {\n            addClass( elem, className );\n        }\n    });\n    return elem;\n}\n\n\nfunction clear( element ) {\n    // (!) On préfère retirer les éléments un par un du DOM plutôt que d'utiliser simplement\n    // this.html(\"\").\n    // En effet, le code simplifié a des conséquences inattendues dans IE9 et IE10 au moins.\n    // Le bug des markers qui disparaissaients sur les cartes de Trail-Passion 4 a été corrigé\n    // avec cette modification.\n    element = $(element);\n    var e = element;\n    while(e.firstChild){\n        e.removeChild(e.firstChild);\n    }\n    var args = [].slice.call( arguments );\n    if( args.length > 1 ) {\n        add.apply( this, args );\n    }\n    return element;\n}\n\nfunction get( element, query ) {\n    element = $(element);\n    if( typeof query === 'undefined' ) {\n        query = element;\n        element = window.document;\n    }\n    return element.querySelector( query );\n}\n\nfunction detach( element ) {\n    element = $(element);\n    var parent = element.parentElement;\n    if( !parent ) return parent;\n    parent.removeChild( element );\n    return parent;\n}\n\nfunction elem( target ) {\n    var args = [].slice.call( arguments );\n    args.shift();\n    if (args.length == 0) args = ['div'];\n    args.push('dom', 'custom');\n    var e;\n    if (typeof args[0].element !== 'undefined') {\n        e = args[0].element;\n        addClass( e, 'dom', 'custom' );\n    } else if (typeof args[0].appendChild === 'function') {\n        e = args[0];\n        addClass( e, 'dom', 'custom' );\n    } else {\n        e = $.tag.apply( $, args );\n    }\n    Object.defineProperty( target, 'element', {\n        value: e, writable: false, configurable: false, enumerable: true\n    });\n    return e;\n}\n\nfunction textOrHtml( element, content ) {\n    if( typeof content === 'undefined' ) content = '';\n    if (content === null) content = '';\n    if (typeof content !== 'string') content = JSON.stringify( content );\n    if (content.substr(0, 6) == '<html>') {\n        element.innerHTML = content.substr(6);\n    } else {\n        element.textContent = content;\n    }\n    return element;\n}\n\nfunction saveStyle( elements ) {\n    if( !Array.isArray( elements ) ) return saveStyle( Array.prototype.slice.call( arguments ) );\n    elements.forEach(function (elem) {\n        elem = $( elem );\n        if( typeof elem[SYMBOL] === 'undefined' ) elem[SYMBOL] = {};\n        if( !Array.isArray( elem[SYMBOL].style ) ) elem[SYMBOL].style = [];\n        elem[SYMBOL].style.push( JSON.stringify( elem.style ) );\n    });\n}\n\nfunction restoreStyle( elements ) {\n    if( !Array.isArray( elements ) ) return restoreStyle( Array.prototype.slice.call( arguments ) );\n    elements.forEach(function (elem) {\n        elem = $( elem );\n        if( typeof elem[SYMBOL] === 'undefined' || !Array.isArray( elem[SYMBOL].style ) ) throw Error(\n            \"[dom.restoreStyle] `saveStyle()` has never been used on this element!\");\n        if( elem[SYMBOL].style.length == 0 ) throw Error(\n            \"[dom.restoreStyle] more `restore` than `save`!\");\n        var styles = JSON.parse( elem[SYMBOL].style.pop() );\n        var k, v;\n        for( k in styles ) {\n            v = styles[k];\n            if( typeof v !== 'undefined' ) {\n                elem.style[k] = v;\n            }\n        }\n    });\n}\n\n\n  \nmodule.exports._ = _;\n});"],"names":["require","module","exports","wrap","obj","element","nomethods","Object","defineProperty","value","writable","configurable","enumerable","on","bind","css","add","att","addClass","hasClass","removeClass","toggleClass","replace","newElem","oldElem","$","parentNode","replaceChild","styles","key","val","style","attribs","setAttribute","removeAtt","attrib","removeAttribute","i","child","arguments","length","substr","html","tag","innerHTML","document","createTextNode","appendChild","ex","console","error","slice","call","Error","off","Array","isArray","forEach","elem","SYMBOL","pe","events","slots","tap","PointerEvents","preview","charAt","addEventListener","tagNS","ns","name","arg","e","createElementNS","split","item","args","unshift","apply","undefined","className","trim","classList","contains","remove","clear","firstChild","removeChild","this","get","query","window","querySelector","detach","parent","parentElement","target","shift","push","textOrHtml","content","JSON","stringify","textContent","saveStyle","elements","prototype","restoreStyle","k","v","parse","pop","_","X","D","en","intl","all","dom","getElementById","Date","now","svgRoot","version","xmlns:svg","xmlns","xmlns:xlink","svg","div","txt"],"mappings":"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"},"dependencies":["mod/$","mod/polyfill.classList","mod/tfw.pointer-events"]}